<div class="container">
    <!-- Page Heading -->
    <div class="row">
        <div class="col-lg-12 col-lg-offset-1">
            <h1 class="page-header">
                محصولات</h1>
            <ol class="breadcrumb">
                <li>
                    <i class="fa fa-dashboard"></i> <a href="/admin/dashboard">Dashboard</a>
                </li>
                <li class="active">
                    <i class="fa fa-desktop"></i> محصولات
                </li>
            </ol>
        </div>
        <div class="col-lg-12 col-lg-offset-1">
            <div class="panel panel-default">
                <div class="panel-heading"><i class="fa fa-">&nbsp;&nbsp;</i>ثبت محصول</div>
                <div class="panel-body">
                    <form name="productForm" novalidate>
                        <uib-tabset active="activeForm">
                            <uib-tab index="0" heading="اطلاعات اصلی" style="display: inline-block">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="col-lg-10">
                                            <div class="form-group" show-errors='{showSuccess: true}'>
                                                <label class="control-label">نام محصول</label>
                                                <input type="text" class="form-control" name="name"
                                                       ng-model="vm.product.title"
                                                       required
                                                       placeholder="نام محصول"/>

                                                <p class="help-block" ng-show="categoryForm.name.$error.required">نام
                                                    محصول
                                                    الزامی می باشد</p>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-12">
                                        <div class="col-lg-10">
                                            <div class="form-group" show-errors='{showSuccess: true}'>
                                                <label class="control-label">درباره محصول(شرح مختصر)</label>
                                                <summernote ng-model="vm.product.shortDescription"></summernote>
                                            </div>
                                        </div>
                                        <div class="col-lg-10">
                                            <div class="form-group" show-errors='{showSuccess: true}'>
                                                <label class="control-label">درباره محصول(شرح کامل)</label>
                                                <summernote ng-model="vm.product.fullDescription"></summernote>
                                            </div>
                                        </div>
                                        <div class="col-lg-12">
                                            <div class="col-lg-10">
                                                <div class="form-group" show-errors='{showSuccess: true}'>
                                                    <label class="control-label">قیمت</label>
                                                    <input type="text" class="form-control" name="price"
                                                           ng-model="vm.product.price"
                                                           required
                                                           placeholder="قیمت"/>

                                                    <p class="help-block" ng-show="categoryForm.price.$error.required">ذکر قیمت الزامی میباشد</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-lg-10">
                                            <div class="form-group" show-errors='{showSuccess: true}'>
                                                <label class="control-label">وضعیت نمایش</label>
                                                <select class="form-control" ng-model="vm.product.enable"
                                                        ng-options="status.value as status.name for (key,status) in vm.categoryStatus">
                                                    <option style="display: none;" value="">اانتخاب کنید</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                            <uib-tab index="1" heading="ارتباط ها">
                                <div class="row">
                                    <div class="col-lg-10">
                                        <div class="form-group">
                                            <label class="control-label">گروه ها</label>
                                            <angucomplete-alt id="ex1"
                                                              placeholder="گروه ها"
                                                              pause="100"
                                                              selected-object="vm.addToCategories"
                                                              local-data="vm.categoryCombo"
                                                              search-fields="name"
                                                              title-field="name"
                                                              minlength="1"
                                                              match-class="highlight"
                                                              clear-selected="true"
                                                              input-class="form-control form-control-small"></angucomplete-alt>

                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                <ul class="list-group-item-info">
                                                    <li class="list-group-item-info" style="padding-left: 5px;"
                                                        ng-repeat="category in vm.product.categories">
                                                        <i class="fa fa-remove"
                                                           ng-click="vm.removeCategory(category)"></i>{{category.title}}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-10">
                                        <div class="form-group">
                                            <label class="control-label">تولید کننده</label>
                                            <angucomplete-alt id="ex1"
                                                              placeholder="جستجوی تولید کننده"
                                                              pause="100"
                                                              selected-object="vm.setManufacturer"
                                                              local-data="vm.manufacturers"
                                                              initial-value="vm.product.manufacturer"
                                                              search-fields="name"
                                                              title-field="name"
                                                              minlength="1"
                                                              match-class="highlight"
                                                              input-class="form-control form-control-small"></angucomplete-alt>
                                        </div>
                                    </div>
                                    <div class="col-lg-10">
                                        <div class="form-group">
                                            <label class="control-label">محصولات مرتبط</label>
                                            <angucomplete-alt id="ex1"
                                                              placeholder="محصولات مرتبط"
                                                              pause="100"
                                                              selected-object="vm.addToRelatedProducts"
                                                              local-data="vm.products"
                                                              search-fields="title"
                                                              title-field="title"
                                                              minlength="1"
                                                              match-class="highlight"
                                                              clear-selected="true"
                                                              input-class="form-control form-control-small"></angucomplete-alt>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                <ul class="list-inline">
                                                    <li class="list-group-item-info" style="padding-left: 5px;"
                                                        ng-repeat="product in vm.product.relationshipProducts">
                                                        <i class="fa fa-remove"
                                                           ng-click="vm.removeRelatedProduct(product)"></i>&nbsp;{{product.title}}
                                                        &nbsp;
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </uib-tab>
                            <uib-tab index="2" heading="ویژگی ها">
                                <div class="row">
                                    <div class="col-sm-2 col-lg-2 ">
                                        <div class="panel panel-default">
                                            <div class="panel-body">
                                                <ul class="list-group">
                                                    <li class="list-group-item-info"
                                                        style="margin-top: 5px;cursor: pointer"
                                                        ng-repeat="attribute in vm.product.attributes"
                                                        ng-click="vm.optionPanelIndex = $index">
                                                        <i class="fa fa-remove"
                                                           ng-click="vm.removeOption(option)"></i>{{attribute.productOptionValue[0].optionTitle}}
                                                    </li>
                                                </ul>
                                            </div>
                                        </div>
                                        <angucomplete-alt id="ex4"
                                                          placeholder="انتخاب ویژگی"
                                                          pause="100"
                                                          selected-object="vm.addToOptions"
                                                          local-data="vm.options"
                                                          search-fields="name"
                                                          title-field="name"
                                                          minlength="1"
                                                          match-class="highlight"
                                                          clear-selected="true"
                                                          input-class="form-control form-control-small"></angucomplete-alt>
                                    </div>
                                    <div class="col-sm-10 col-lg-10">
                                        <table class="table table-striped table-bordered table-hover">
                                            <thead>
                                            <tr>
                                                <th>مقدار ویژگی</th>
                                                <th>تعداد</th>
                                                <th>قیمت</th>
                                                <th>وزن</th>
                                                <th>محل نمایش</th>
                                                <th></th>
                                            </tr>
                                            </thead>
                                            <tbody ng-repeat="option in vm.product.attributes"
                                                   ng-show="vm.displayOptionPanel($last,$index,vm.optionPanelIndex)"
                                                   ng-init="vm.parentIndex = $index">

                                            <tr ng-repeat="o in option.productOptionValue" ng-init="vm.index = $index">
                                                <td><select class="form-control" ng-model="o.optionValueId"
                                                            ng-options="v.id as v.value for v in vm.selectedOptions[$parent.$index]"></select>
                                                </td>
                                                <td><input class="form-control" type="text" ng-model="o.quantity"></td>
                                                <td><input class="form-control" type="text" ng-model="o.price"></td>
                                                <td><input class="form-control" type="text" ng-model="o.weight"></td>
                                                <td><select class="form-control" ng-model="o.viewType" ng-options="type.value as type.title for type in vm.viewTypes">
                                                     <option value="">انتخاب کنید</option>
                                                </select>
                                                </td>
                                                <td>
                                                    <button type="button" title=""
                                                            class="btn btn-danger" ng-click="vm.removeOption(o)" data-original-title="Remove"><i
                                                            class="fa fa-minus-circle"></i></button>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="4"></td>
                                                <td>
                                                    <button type="button" data-toggle="tooltip"
                                                            ng-click="vm.addNewOption(vm.parentIndex,vm.index)"
                                                            title="" class="btn btn-primary"
                                                            data-original-title="Add Option Value">
                                                        <i class="fa fa-plus-circle"></i></button>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </uib-tab>
                            <uib-tab index="3" heading="تخفیف ها">
                                Some Tab Content
                            </uib-tab>
                            <uib-tab index="4" heading="تخفیف های ویژه">
                                Some Tab Content
                            </uib-tab>
                            <uib-tab index="5" heading="افزودن عکس">
                                More Tab Content
                            </uib-tab>
                        </uib-tabset>
                        <pre style="direction: ltr">{{vm.product | json}}</pre>
                        <hr class="col-lg-8 divider col-lg-offset-2">
                        <div class="col-lg-6 col-lg-offset-2">
                            <button ng-show="!vm.product.id" class="btn btn-primary" ng-click="vm.add()">
                                اضافه
                            </button>
                            <button ng-show="vm.product.id" class="btn btn-primary" ng-click="vm.update()">
                                ویرایش
                            </button>
                            <button class="btn btn-error" ng-click="vm.cancel()">انصراف</button>
                        </div>

                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
<hr>
<div class="col-sm-6 text-right">
    <ul class="pagination">
        <li ng-repeat="p in vm.pages track by $index" ng-class="{'active': $index== vm.selected}"><a
                href="#"
                ng-click="vm.getPage($index)">{{$index+1}}</a>
        </li>

    </ul>
</div>
</div>
</div>
</div>
</div>